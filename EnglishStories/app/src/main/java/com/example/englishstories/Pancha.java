package com.example.englishstories;

import androidx.appcompat.app.AppCompatActivity;

import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AdapterView;
import android.widget.BaseAdapter;
import android.widget.ListView;
import android.widget.TextView;

public class Pancha extends AppCompatActivity {
    String title[] = {"the jackal and drum","the four friends and the hunter", "the talkative tortoise","the sage and the mouse"};
    String story[]={"Once upon a time there lived a jackal in a forest. One day it was very hungry and it reached the king's battleground. It heard a loud noise suddenly and was frightened upon hearing the noise. He was frightened that something dangerous was happening to him. He reached a war-drum nearby and struck it with grass and it made noise. Jackal He mistook it be a huge animal with lots of food on the inside of it. With great difficulty it pierced the drum and reached inside. On reaching inside then it was disappointed to find it to be only wood and leather. With great difficulty it came out of the hole and backed off and crept away to safety laughing at her judgment.MORAL:  Extreme circumstances can mutilate judgment.", "Long, long ago, there lived three friends in a jungle. They were-a deer, his and a mouse. They used to share their meals together. One day, a turtle came to them and said, I also want to join your company and become your friend. I'm all alone. You're most welcome, said the crow. But what about your personal safety. There are many hunters around. They visit this jungle regularly. Suppose, a hunter comes, how will you save yourself? That is the reason why I want to join your group,said the turtle No sooner had they talked about it than a hunter appeared on the scene. Seeing the hunter, the deer darted away; the crow flew in the sky and the mouse ran into a hole. The turtle tried to crawl away fast, but he was caught by the hunter. The hunter tied him up in the net. He was sad to lose the deer. But he thought, it was better to feast on the turtle rather than to go hungry. The turtle's three friends became much worried to see his friend trapped by the hunter. They sat together to think of some plan to free his friend from the hunter's snare. The crow then flew high up in the sky and spotted the hunter walking along the river bank. As per the plan the deer ran ahead of the hunter unnoticed and lay on the hunter's path as if dead. The hunter saw the deer from a distance, lying on the ground. He was very happy to have found it again. Now I'll have a good feast on it and sell its beautiful skin in the market, thought the hunter to himself. He put down the turtle on to the ground and ran to pick up the deer. In the meantime, as planned, the rat gnawed through the net and freed the turtle. The turtle hurriedly crawled away into the river water. Unaware of the plot of these friends, the hunter went to fetch the dear for its tasty flesh and beautiful skin. But, what he saw with his mouth agape was that, when he reached near, the deer suddenly sprang up to its feet and darted away in the jungle. Before he could understand anything, the deer had disappeared. Dejected, the hunter turned back to collect the turtle he had left behind on the ground in the snare. But he was shocked to see the snare lying nibbled at and the turtle missing. For a moment, the hunter thought that he was dreaming. But the damaged snare lying on the ground was proof enough to confirm that he was very much awake and he was compelled to believe that some miracle had taken place. The hunter got frightened on account of these happenings and ran out of the jungle. The four friends once again started living happily", "This is one more interesting story from Panchatantra. Once upon a time, there was a tortoise by the name of Kambugriva and two geese by the name of Sankata and Vikata. The tortoise lived in a pond and he made friends with two geese who used to come and visit him at the pond. All of them were happy for the past many years. Once they faced a drought that lasted for several months. Due to this, all the rivers, lakes and ponds went dry. There was not a drop of water to drink for the birds and the animals. They began to die of thirst and scorching heat. Many of them decided to migrate to some fertile lands. The three friends also decided to leave the pond and to go to some distant lake, full of water, to settle down there for ever. But it was quite difficult to shift at a distant place. Although, was quite easy for the geese as they could fly but the problem was for tortoise. The poor tortoise could not fly and to cover that distance on foot was really difficult. All of them had a conversation, as to what could be a possible solution for this problem. The geese suggested a plan, according to which, tortoise would have to hold a piece of stick by his mouth and which would be carried slowly while holding its two ends by them. The only condition was that the tortoise should not speak; otherwise he would fall and die spontaneously. The geese were worried because they knew that tortoise was very talkative and it was difficult for him to keep his mouth shut. The tortoise got the logic and promised not to open his mouth during the entire journey. Before starting their journey, the geese again cautioned their friend not to open his mouth in any case. With this instruction, the geese held the stick ends in their beaks and the tortoise held the stick in the middle with his teeth. Thus, they started their journey. They flew higher and higher, over hills, valleys, fields and plains. Ultimately, they flew over a town. The people of the town were surprised to see such a strange scene. They started laughing and clapping, to see the geese carrying tortoise like that. The peopleâ€™s shouting and laughing annoyed the tortoise. He thought why these people were making such a noise. Unable to control his anxiety, he opened his mouth to speak. But as soon as he opened his mouth, he lost his grip on the stick and fell to his death. So, the poor tortoise got killed because of his stupidity and impatience. Moral: Always listen to friendly advices.", "There lived a famous sage in a dense forest. Everyday, the animals of the forest came to him to listen to his spiritual preachings. They would gather around the meditating sage and the sage would tell them the good things of life. There was also a little mouse living in the same forest. He too used to go to the sage daily to listen to his preachings. One day, while he was roaming in the forest to collect berries for the sage, he was attacked by a big cat, who was watching him from behind the thick bushes. The mouse was scared. He ran straight to the ashram of the sage. There he lay prostrate before the sage and narrated to him the whole story in a trembling voice. In the meantime, the cat also arrived there and requested the sage to allow him to take his prey. The sage was in a fix. He thought for a moment and then with his divine powers transformed the mouse into a bigger cat. Seeing a huge cat before him the other cat ran away. Now the mouse was carefree. He began to roam about in the forest like a big cat. He meowed loudly to frighten other animals. He fought with other cats to take revenge on them and in this way killed many of them. The mouse had hardly enjoyed a few carefree days of his life, when one day, a fox pounced upon him. This was a new problem. He had never taken into acount that there were yet bigger animals who could easily maul him and tear him into pieces. He,ran for his life,- He, somehow, saved himself from the fox and ran straight to the sage for help. The fox too was in his hot persuit. Soon both of them stood before the sage. The sage seeing the plight of the mouse this time, transformed the mouse into a bigger fox. Seeing a big fox before him the other fox ran away. The mouse became more carefree and began roaming about in the forest more freely with his newly acquired status of a big fox. But, his happiness was short-lived. One day, while he was moving around in the forest freely, a tiger pounced upon him. The mouse, somehow, managed to save his life and as usual ran to take shelter in the ashram of the sage. The sage, once again, took pity on the mouse and transformed him into a tiger. Now, the mouse, after acquiring the. status of a tiger, roamed fearlessly in the forest. He killed many animals in the forest unnecessarily. After having been transformed into a tiger, the mouse had become all-powerful for the -forest animals. He behaved like a king and commanded his subjects. But one thing always bothered his mind and kept him worried; and that was, the divine powers of the sage. What, if, one day for some reason or the other, the sage becomes angry with me and brings me back to my original status, he would think worriedly. Ultimately, he decided something and one day, he came to the sage roaring loudly. He said to the sage, I'm hungry. I want to eat you, so that I could enjoy all those divine powers, which you do. Allow me to kill you. Hearing these words the sage became very angry. Sensing tiger's evil designs, he immediately transformed the tiger back into the mouse. The worst had happened. Now the mouse realised his folly. He apologised to the saint for his evil actions and requested him to change him again into a tiger. But the sage drove the mouse away by beating him with a stick." };

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_pancha);
        ListView lv = (ListView) findViewById(R.id.Mylist);
        Pancha.MyAdapter myAdapter= new Pancha.MyAdapter(getApplicationContext(),title);
        lv.setAdapter(myAdapter);

        lv.setOnItemClickListener(new AdapterView.OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {
                Intent ii =new Intent(Pancha.this,Full_story.class);

                ii.putExtra("title",title[i]);
                ii.putExtra("story",story[i]);

                startActivity(ii);


            }
        });
    }
    public class MyAdapter extends BaseAdapter {
        Context context;

        String title[];
        LayoutInflater inflater;

        public MyAdapter(Context applicationContext,String[] name){
            this.context=applicationContext;
            this.title=name;

            inflater=(LayoutInflater.from(getApplicationContext()));

        }

        @Override
        public int getCount() {
            return title.length;
        }

        @Override
        public Object getItem(int i) {
            return null;
        }

        @Override
        public long getItemId(int i) {
            return 0;
        }

        @Override
        public View getView(int i, View view, ViewGroup viewGroup) {
            view = inflater.inflate(R.layout.listitem,null);
            TextView lv=(TextView) view.findViewById(R.id.title);
            lv.setText(title[i]);
            return view;
        }
    }
}
